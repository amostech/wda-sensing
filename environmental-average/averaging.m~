simple_averaging = [-25.05
-26.03
-25.96
-25.92
-25.88
-25.57
-24.79
-24.95
-25.09
-25.2
-25.27
-25.36
-25.4
-25.42
-24.99
-24.97
-25.01
-25.06
-25.11
-25.13
-25.16
-25.18
-25.2
-24.99
-24.86
-24.89
-24.93
-24.98
-25.01
-25.05
-25.07
-25.08
-25.09
-25.07
-24.95
-24.98
-25
-25.03
-25.05
-25.07
-25.08
-25.08
-24.95
-24.96
-24.99
-25
-25.02
-25.03
-25.04
-25.03
-24.93
-24.96
-24.98
-24.99
-25
-25.02
-25.03
-24.95
-24.95
-24.97
-24.99
-25.01
-25.02
-25.03
-25.04
-24.97
-24.98
-25
-25.01
-25.03
-25.05
-25.07
-25
-25.01
-25.02
-25.04
-25.05
-25.06
-25.07
-25.07
-25.01
-25.02
-25.04
-25.05
-25.06
-25.07
-25.08
-25.06
-25.02
-25.03
-25.04
-25.05
-25.06
-25.07
-25.07
-25.07
-25.01
-25.02
-25.03
-25.04
-25.05
-25.05
-25.06
-25.01
-25
-25.01
-25.02
-25.02
-25.03
-25.04
-25.04
-25
-24.98
-25
-25
-25.01
-25.02
-25.02
-25.01
-24.99
-24.97
-24.99
-24.99
-25
-25
-25.01
-25.02
-24.97
-24.97
-24.98
-24.98
-24.99
-24.97
-24.99
-24.99
-24.95
-24.95
-24.96
-24.96
-24.97
-24.98
-24.98
-24.98
-24.94
-24.94
-24.95
-24.95
-24.95
-24.95
-24.95
-24.94
-24.91
-24.92
-24.92
-24.93
-24.93
-24.93
-24.93
-24.9
-24.89]
mad_averaging = [-26.17
-26.12
-25.98
-25.93
-25.88
-25.78
-25.68
-25.68
-25.78
-25.83
-25.83
-25.88
-25.88
-25.88
-25.78
-25.73
-25.73
-25.73
-25.78
-25.73
-25.73
-25.73
-25.73
-25.68
-25.68
-25.68
-25.68
-25.68
-25.73
-25.73
-25.73
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.63
-25.63
-25.68
-25.68
-25.68
-25.63
-25.68
-25.63
-25.63
-25.63
-25.63
-25.63
-25.68
-25.68
-25.68
-25.63
-25.63
-25.63
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.73
-25.68
-25.68
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.78
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.78
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.73
-25.68
-25.73
-25.73
-25.68
-25.73
-25.73
-25.73
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.73
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.68
-25.63
-25.63
-25.63
-25.63
-25.63
-25.63
-25.63
-25.63
-25.63
-25.63
-25.63]

size = [ 25
50
75
100
125
150
175
200
225
250
275
300
325
350
375
400
425
450
475
500
525
550
575
600
625
650
675
700
725
750
775
800
825
850
875
900
925
950
975
1000
1025
1050
1075
1100
1125
1150
1175
1200
1225
1250
1275
1300
1325
1350
1375
1400
1425
1450
1475
1500
1525
1550
1575
1600
1625
1650
1675
1700
1725
1750
1775
1800
1825
1850
1875
1900
1925
1950
1975
2000
2025
2050
2075
2100
2125
2150
2175
2200
2225
2250
2275
2300
2325
2350
2375
2400
2425
2450
2475
2500
2525
2550
2575
2600
2625
2650
2675
2700
2725
2750
2775
2800
2825
2850
2875
2900
2925
2950
2975
3000
3025
3050
3075
3100
3125
3150
3175
3200
3225
3250
3275
3300
3325
3350
3375
3400
3425
3450
3475
3500
3525
3550
3575
3600
3625
3650
3675
3700
3725
3750
3775
3800
3825
3850
3875
3900
3925
3950
3975
4000 ]

avg = abs(-26-simple_averaging)
mad = abs(-26-mad_averaging)

hold on
area(size, avg, 'FaceColor', [0 0.75 0.75] )
area(size, mad, 'FaceColor', [0 0.25 0.25])
title('Simple Averaging and MAD Averaging')
xlabel('Averaging Buffer Size (samples)')
ylabel('Absolute Error (microTesla)')
set(gca,'fontsize',24)


figure;
hold on
bar([1:2],[mean(avg); mean(mad)], 'FaceColor', [0 0.75 0.75])
errorbar([1:2],[mean(avg); mean(mad)], [std(avg); std(mad)], '.', 'FaceColor', [0 0.75 0.75])